import{u as N,j as e}from"./index-CvPcnR5S.js";import{u,r as g}from"./vendor-IDWrQIHz.js";import{u as y}from"./appStore-BPO_w7dw.js";import"./state-MjgzQ4RD.js";function T(){var c,n,r,m,h,o;const{dashboard:s,dashboardLoading:x,fetchDashboard:t}=y(),{profile:l}=N(),j=u();if(g.useEffect(()=>{t()},[t]),x&&!s)return e.jsx("div",{className:"loader",children:e.jsx("div",{className:"spinner"})});const v=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),p=(()=>{const a=new Date().getHours();return a<12?"Good morning":a<17?"Good afternoon":"Good evening"})();return e.jsxs("div",{children:[e.jsx("div",{className:"page-header",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"page-title",children:[p,", ",(l==null?void 0:l.displayName)||"there"," ðŸ‘‹"]}),e.jsx("p",{className:"page-subtitle",children:v})]})}),e.jsxs("div",{className:"stats-grid",children:[e.jsx("div",{className:"stat-card",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"stat-label",children:"Total Tasks"}),e.jsx("div",{className:"stat-value",children:(s==null?void 0:s.totalTasks)||0})]}),e.jsx("div",{className:"stat-icon",children:"ðŸ“‹"})]})}),e.jsx("div",{className:"stat-card success",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"stat-label",children:"Completed"}),e.jsx("div",{className:"stat-value",children:(s==null?void 0:s.completedTasks)||0})]}),e.jsx("div",{className:"stat-icon",children:"âœ…"})]})}),e.jsx("div",{className:"stat-card danger",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"stat-label",children:"Overdue"}),e.jsx("div",{className:"stat-value",children:(s==null?void 0:s.overdueTasks)||0})]}),e.jsx("div",{className:"stat-icon",children:"ðŸš¨"})]})}),e.jsx("div",{className:"stat-card warning",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"stat-label",children:"Streak Days"}),e.jsx("div",{className:"stat-value",children:(s==null?void 0:s.totalStreakDays)||0})]}),e.jsx("div",{className:"stat-icon",children:"ðŸ”¥"})]})})]}),e.jsxs("div",{className:"dashboard-grid",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"card dashboard-section",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h2",{className:"card-title",children:"Today's Tasks"}),e.jsx("span",{className:"badge badge-medium",children:((c=s==null?void 0:s.todayTasks)==null?void 0:c.length)||0})]}),(n=s==null?void 0:s.todayTasks)!=null&&n.length?e.jsx("div",{className:"task-list",children:s.todayTasks.map(a=>e.jsxs("div",{className:"task-item",children:[e.jsx("div",{className:`task-checkbox ${a.status==="done"?"checked":""}`,children:a.status==="done"?"âœ“":""}),e.jsxs("div",{className:"task-info",children:[e.jsx("div",{className:`task-title ${a.status==="done"?"completed":""}`,children:a.title}),e.jsx("div",{className:"task-meta",children:e.jsx("span",{className:`badge badge-${a.priority}`,children:a.priority})})]})]},a.id))}):e.jsxs("div",{className:"empty-state",style:{padding:"var(--space-8)"},children:[e.jsx("div",{className:"empty-icon",children:"ðŸŽ¯"}),e.jsx("h3",{children:"No tasks due today"}),e.jsx("p",{children:"Your day is clear â€” great time to plan ahead."})]})]}),e.jsxs("div",{className:"card dashboard-section",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h2",{className:"card-title",children:"Overdue"}),e.jsx("span",{className:"badge badge-critical",children:((r=s==null?void 0:s.overdueTodayTasks)==null?void 0:r.length)||0})]}),(m=s==null?void 0:s.overdueTodayTasks)!=null&&m.length?e.jsx("div",{className:"task-list",children:s.overdueTodayTasks.map(a=>e.jsx("div",{className:"task-item",style:{borderLeft:"3px solid var(--critical)"},children:e.jsxs("div",{className:"task-info",children:[e.jsx("div",{className:"task-title",children:a.title}),e.jsxs("div",{className:"task-meta",children:[e.jsx("span",{className:`badge badge-${a.priority}`,children:a.priority}),a.deadline&&e.jsxs("span",{style:{color:"var(--critical)"},children:["ðŸ“… ",new Date(a.deadline).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]})]})},a.id))}):e.jsxs("div",{className:"empty-state",style:{padding:"var(--space-8)"},children:[e.jsx("div",{className:"empty-icon",children:"ðŸŽ‰"}),e.jsx("h3",{children:"All caught up!"}),e.jsx("p",{children:"No overdue tasks. Keep the momentum going."})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"card dashboard-section",children:[e.jsx("div",{className:"card-header",children:e.jsx("h2",{className:"card-title",children:"Upcoming Deadlines"})}),(h=s==null?void 0:s.upcomingDeadlines)!=null&&h.length?e.jsx("div",{className:"task-list",children:s.upcomingDeadlines.slice(0,5).map(a=>{const i=a.deadline?Math.ceil((new Date(a.deadline).getTime()-Date.now())/864e5):null,d=i!==null?i<=1?"urgent":i<=3?"warning":"safe":"safe";return e.jsxs("div",{className:`deadline-item ${d}`,children:[e.jsxs("div",{className:"deadline-countdown",children:[e.jsx("div",{className:"days",style:{color:d==="urgent"?"var(--critical)":d==="warning"?"var(--warning)":"var(--success)"},children:i!==null?i<0?0:i:"â€“"}),e.jsx("div",{className:"label",children:"days"})]}),e.jsxs("div",{className:"task-info",children:[e.jsx("div",{className:"task-title",children:a.title}),e.jsx("div",{className:"task-meta",children:e.jsx("span",{className:`badge badge-${a.priority}`,children:a.priority})})]})]},a.id)})}):e.jsxs("div",{className:"empty-state",style:{padding:"var(--space-8)"},children:[e.jsx("div",{className:"empty-icon",children:"ðŸ“…"}),e.jsx("h3",{children:"No upcoming deadlines"}),e.jsx("p",{children:"Add deadlines to tasks to see them here."})]})]}),e.jsxs("div",{className:"card dashboard-section",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h2",{className:"card-title",children:"Habit Streaks"}),e.jsx("button",{className:"btn btn-ghost btn-sm",onClick:()=>j("/habits"),children:"View all"})]}),(o=s==null?void 0:s.habits)!=null&&o.length?e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"var(--space-3)"},children:s.habits.map(a=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"var(--space-3) var(--space-4)",background:"var(--bg-input)",borderRadius:"var(--radius-md)",border:"1px solid var(--border)"},children:[e.jsx("span",{style:{fontWeight:500,fontSize:"var(--font-size-sm)"},children:a.name}),e.jsxs("span",{className:"habit-streak",children:["ðŸ”¥ ",a.currentStreak]})]},a.id))}):e.jsxs("div",{className:"empty-state",style:{padding:"var(--space-8)"},children:[e.jsx("div",{className:"empty-icon",children:"ðŸ’ª"}),e.jsx("h3",{children:"No habits yet"}),e.jsx("p",{children:"Build momentum. Start with one small daily habit."})]})]})]})]})]})}export{T as Dashboard};
