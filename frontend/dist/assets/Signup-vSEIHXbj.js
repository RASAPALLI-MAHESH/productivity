import{u as N,j as e}from"./index-CvPcnR5S.js";import{r as o,u as S,L as C}from"./vendor-IDWrQIHz.js";import"./state-MjgzQ4RD.js";function P(t){let a=0;return t.length>=8&&a++,t.length>=12&&a++,/[A-Z]/.test(t)&&a++,/[0-9]/.test(t)&&a++,/[^A-Za-z0-9]/.test(t)&&a++,a<=1?{score:a,label:"Weak",color:"var(--critical)"}:a<=2?{score:a,label:"Fair",color:"var(--warning)"}:a<=3?{score:a,label:"Good",color:"var(--accent)"}:{score:a,label:"Strong",color:"var(--success)"}}function A(){const[t,a]=o.useState(""),[u,h]=o.useState(""),[r,v]=o.useState(""),[l,x]=o.useState(""),[i,g]=o.useState(!1),[c,f]=o.useState(!1),{signup:y,loading:p,error:m,clearError:j}=N(),b=S(),n=o.useMemo(()=>P(r),[r]),d=l===""||r===l,w=async s=>{if(s.preventDefault(),j(),r===l&&c)try{await y(u,r,t),b("/verify-otp")}catch{}};return e.jsxs("div",{className:"auth-container",children:[e.jsx("div",{className:"auth-branding",children:e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"3.5rem",marginBottom:"var(--space-4)"},children:"ðŸš€"}),e.jsx("h1",{style:{fontSize:"2rem",fontWeight:700,marginBottom:"var(--space-3)"},children:"Join Productiv"}),e.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"var(--font-size-lg)",lineHeight:1.6},children:["Your free productivity",e.jsx("br",{}),"workspace â€” built for",e.jsx("br",{}),"people who ship."]})]})}),e.jsxs("div",{className:"auth-card",children:[e.jsx("h1",{children:"Create your account"}),e.jsx("p",{children:"Start your productivity journey today"}),m&&e.jsx("div",{className:"auth-error",children:m}),e.jsxs("form",{onSubmit:w,children:[e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"input-label",htmlFor:"displayName",children:"Full Name"}),e.jsx("input",{id:"displayName",type:"text",className:"input",placeholder:"John Doe",value:t,onChange:s=>a(s.target.value),required:!0,autoFocus:!0})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"input-label",htmlFor:"email",children:"Email"}),e.jsx("input",{id:"email",type:"email",className:"input",placeholder:"you@example.com",value:u,onChange:s=>h(s.target.value),required:!0,autoComplete:"email"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"input-label",htmlFor:"password",children:"Password"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("input",{id:"password",type:i?"text":"password",className:"input",placeholder:"Min 8 characters",value:r,onChange:s=>v(s.target.value),required:!0,minLength:8,autoComplete:"new-password",style:{paddingRight:48}}),e.jsx("button",{type:"button",onClick:()=>g(!i),className:"password-toggle","aria-label":i?"Hide password":"Show password",children:i?"ðŸ™ˆ":"ðŸ‘ï¸"})]}),r&&e.jsxs("div",{style:{marginTop:"var(--space-2)"},children:[e.jsx("div",{style:{display:"flex",gap:4,marginBottom:4},children:[1,2,3,4,5].map(s=>e.jsx("div",{style:{flex:1,height:3,borderRadius:"var(--radius-full)",background:s<=n.score?n.color:"var(--border)",transition:"all 200ms ease"}},s))}),e.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:n.color},children:n.label})]})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{className:"input-label",htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsx("input",{id:"confirmPassword",type:i?"text":"password",className:"input",placeholder:"Re-enter password",value:l,onChange:s=>x(s.target.value),required:!0,autoComplete:"new-password",style:{borderColor:d?void 0:"var(--critical)"}}),!d&&e.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--critical)",marginTop:"var(--space-1)"},children:"Passwords do not match"})]}),e.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"var(--space-2)",fontSize:"var(--font-size-sm)",color:"var(--text-secondary)",cursor:"pointer",marginBottom:"var(--space-4)"},children:[e.jsx("input",{type:"checkbox",checked:c,onChange:s=>f(s.target.checked),required:!0,style:{accentColor:"var(--accent)",marginTop:2}}),"I agree to the Terms of Service and Privacy Policy"]}),e.jsx("button",{type:"submit",className:"btn btn-primary btn-lg",disabled:p||!c||!d,children:p?"Creating account...":"Create Account"})]}),e.jsxs("div",{className:"auth-footer",children:["Already have an account? ",e.jsx(C,{to:"/login",children:"Sign in"})]})]})]})}export{A as Signup};
